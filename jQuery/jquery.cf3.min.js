(function(e){e.fn.inputLength=function(t){var n=e.extend({isTrim:!0},t),r=n.isTrim?e.trim(this.val()):this.val(),i=0;i=(encodeURI(r)+"%u").match(/%u/g).length-1;return r.length+i};e.fn.popupLayer=function(t){var n=e.extend({backgroundColor:"#000",opacity:.2},t),r;if(e(document).find("#__popupWrapper").length==0){e("body").append('<div id="__popupWrapper"><div id="__popupBG"></div></div>');r=e("#__popupWrapper")}else{r=e("#__popupWrapper");r.empty().append('<div id="__popupBG"></div>')}var i=this.clone(!0);e(r).append(i);var s=e("#__popupBG");e(r).css("position","fixed").css("_position","absolute").css("top","0").css("left","0");e(r).css("width","100%").css("height","100%").css("z-index","300");e(s).css("width","100%").css("height","100%").css("background-color",n.backgroundColor).css("position","absolute");e(s).css("top","0").css("left","0").css("opacity",n.opacity).css("z-index","100");e(i).css("position","absolute").css("top","50%").css("left","50%").css("z-index","101");e(i).css("background-color","#fff");this.outerHeight()<e(document).height()?e(i).css("margin-top","-"+this.outerHeight()/2+"px"):e(i).css("top","0");this.outerWidth()<e(document).width()?e(i).css("margin-left","-"+this.outerWidth()/2+"px"):e(i).css("left","0");e(i).show();e(r).show();e(i).find(".btnClose").bind("click",function(t){e(r).hide();t.preventDefault()})};e.fn.getLastDateWithObject=function(e){return e==null||typeof e=="undefined"?null:new Date(new Date(e.getFullYear(),e.getMonth()+1,1)-1)};e.fn.getLastDate=function(t){return e.getLastDateWithObject(t).getDate()};e.fn.getLastDay=function(t){return e.getLastDateWithObject(t).getDay()};e.fn.getDateString=function(t){return t.getFullYear+e.zeroFill(t.getMonth()+1,2)+e.zeroFill(t.getDate(),2)};e.fn.center=function(){this.css("position","absolute");this.css("top",Math.max(0,(e(window).height()-e(this).outerHeight())/2+e(window).scrollTop())+"px");this.css("left",Math.max(0,(e(window).width()-e(this).outerWidth())/2+e(window).scrollLeft())+"px");return this}})($);$.extend({zeroFill:function(e,t){if(e==null||typeof e=="undefined"||t<0)return"";var n=t-e.toString().length,r="";for(var i=0;i<n;i++)r+="0";return r+e.toString()}});